{"version":3,"sources":["js/DOM.js"],"names":["createElement","type","func","elm","document","i","arguments","length","innerHTML","Array","_step","_iterator","_createForOfIteratorHelper","s","n","done","e","value","appendChild","err","f","addEventListener","bind","event","checked","setAttribute","findElements","parent","findAll","desc","undefined","elms","_step2","_iterator2","querySelectorAll","thing","push","querySelector","replaceElementsWith","newNodes","children","replaceChild","replaceAllChildren","clearChildren","insertAfter","newNode","referenceNode","parentNode","insertBefore","nextSibling","firstChild","removeChild","createDropDown","nodeList","comp","maxShow","table","thead","tbody","wrapper","overflowContainer","tr","closeDropdown","_step3","style","sheet","r","cloneNode","window","dropdownRef","getDropDownCurrentNode","dropdownUpdated","_iterator3","node","classList","onclick","height","overflow","size","getComputedStyle","width","maxHeight","parseInt","split","dropdownLength","dropdownLoaded","removeEventListener","scrollTop","head","selector","css","propText","Object","keys","map","p","join","insertRule","cssRules","display","drop","body","replaceDropdownContent","_step4","_iterator4"],"mappings":"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","file":"DOM.903e243b.js","sourceRoot":"..","sourcesContent":["//returns HTML element specified. Can overload arguments to give the element attributes. Syntax is \"[attr, value]\"\r\nfunction createElement(type) {\r\n\tlet elm = document.createElement(type);\r\n\tlet func;\r\n\tfor (let i = 1; i < arguments.length; i++) {\r\n\r\n\t\tswitch (arguments[i][0]) {\r\n\t\t\tcase \"text\":\r\n\t\t\t\telm.innerHTML = arguments[i][1];\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"children\":\r\n\t\t\t\tif (arguments[i][1] instanceof Array) {\r\n\t\t\t\t\tfor (let e of arguments[i][1]) {\r\n\t\t\t\t\t\tif (e != null)\r\n\t\t\t\t\t\t\telm.appendChild(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (arguments[i][1] != null)\r\n\t\t\t\t\t\telm.appendChild(arguments[i][1]);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"onkeydown\":\r\n\t\t\t\tfunc = arguments[i][1];\r\n\t\t\t\telm.addEventListener(\"keypress\", func.bind(event, this, elm));\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"onkeyup\":\r\n\t\t\t\tfunc = arguments[i][1];\r\n\t\t\t\telm.addEventListener(\"keyup\", func.bind(event, this, elm));\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"checked\":\r\n\t\t\t\telm.checked = arguments[i][1]\r\n\t\t\tdefault:\r\n\t\t\t\telm.setAttribute(arguments[i][0], arguments[i][1]);\r\n\t\t}\r\n\t}\r\n\treturn elm;\r\n}\r\n\r\n//returns all HTML elements within the parent. findAll specifies if all elements of the same name should be found. Overload arguments with element(s) descriptor\r\nfunction findElements(parent, findAll, desc) {\r\n\tif (parent == undefined || desc == undefined) {\r\n\t\treturn;\r\n\t}\r\n\tlet elms = [];\r\n\tfor (let i = 2; i < arguments.length; i++) {\r\n\t\tif (findAll) {\r\n\t\t\tlet q = parent.querySelectorAll(arguments[i]);\r\n\t\t\tfor (let thing of q) {\r\n\t\t\t\telms.push(thing);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\telms.push(parent.querySelector(arguments[i]));\r\n\t\t}\r\n\t}\r\n\r\n\treturn (findAll) ? elms : elms[0];\r\n}\r\n\r\nfunction replaceElementsWith(parent, newNodes) {\r\n\tfor (let i = 0; i < newNodes.length; i++) {\r\n\t\tif (i < parent.children.length) {\r\n\t\t\tparent.replaceChild(newNodes[i], parent.children[i]);\r\n\t\t} else {\r\n\t\t\tparent.appendChild(newNodes[i]);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction replaceAllChildren(parent, newNodes) {\r\n\tclearChildren(parent);\r\n\treplaceElementsWith(parent, newNodes);\r\n}\r\n\r\nfunction insertAfter(newNode, referenceNode) {\r\n\treferenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);\r\n}\r\n\r\nfunction clearChildren(parent) {\r\n\twhile (parent.firstChild) {\r\n\t\tparent.removeChild(parent.firstChild);\r\n\t}\r\n\treturn parent;\r\n}\r\n\r\n\r\nfunction createDropDown(nodeList, maxShow = 3) {\r\n\tlet table = createElement('table', ['style', 'border-collapse: collapse;']),\r\n\t\tthead = createElement('thead'),\r\n\t\ttbody = createElement('tbody', ['style', ' visibility:collapse']),\r\n\t\twrapper = createElement('div', ['class', ' dropdown_wrapper'], ['style', ' width: fit-content;display: inline-block;line-height: 0;position: relative;box-sizing: content-box;']),\r\n\t\toverflowContainer = createElement('div', ['class', ' overflow_container'], ['style', 'position: absolute;width: max-content;cursor: pointer;overflow:auto;'])\r\n\ttr = createElement('tr'),\r\n\t\tcloseDropdown = true;\r\n\tvar comp;\r\n\tvar r = function (n) {\r\n\t\treturn function () {\r\n\t\t\tthead.replaceChild(n.cloneNode(true), thead.children[0]);\r\n\t\t\twindow.dropdownRef = getDropDownCurrentNode();\r\n\t\t\tdropdownUpdated();\r\n\t\t\tcloseDropdown = true;\r\n\t\t};\r\n\t};\r\n\tfor (let node of nodeList) {\r\n\t\tnode.classList += ' drop_itm';\r\n\t\tnode.addEventListener('click', r(node));\r\n\t\ttr.appendChild(node);\r\n\t}\r\n\r\n\tthead.onclick = function () {\r\n\t\toverflowContainer.style.height = \"\";\r\n\t\toverflowContainer.style.overflow = \"auto\";\r\n\t\ttbody.style = \"\";\r\n\t\tcloseDropdown = false;\r\n\t}\r\n\r\n\r\n\ttbody.appendChild(tr);\r\n\tthead.appendChild(((tr.cloneNode()).appendChild(nodeList[0].cloneNode(true))));\r\n\ttable.appendChild(thead);\r\n\ttable.appendChild(tbody);\r\n\toverflowContainer.appendChild(table);\r\n\twrapper.appendChild(overflowContainer);\r\n\r\n\twindow.addEventListener('load', function size() {\r\n\t\tcomp = window.getComputedStyle(thead);\r\n\t\twrapper.style.width = comp.width;\r\n\t\twrapper.style.height = comp.height;\r\n\t\toverflowContainer.style.maxHeight = (parseInt((comp.height.split(\"px\")[0])) * maxShow * 1.2) + \"px\";\r\n\t\toverflowContainer.style.height = parseInt((comp.height.split(\"px\")[0])) + \"px\";\r\n\t\t//global variables to check if a new option has been selected\r\n\t\twindow.dropdownRef = getDropDownCurrentNode();\r\n\t\twindow.dropdownLength = nodeList.length;\r\n\t\tdropdownLoaded();\r\n\t\tthis.removeEventListener('load', size);\r\n\t});\r\n\twindow.addEventListener('resize', function size() {\r\n\t\tcomp = window.getComputedStyle(thead);\r\n\t\tif (comp.width != \"auto\") {\r\n\t\t\twrapper.style.width = comp.width;\r\n\t\t\twrapper.style.height = comp.height;\r\n\t\t\toverflowContainer.style.maxHeight = (parseInt((comp.height.split(\"px\")[0])) * maxShow * 1.2) + \"px\";\r\n\t\t\tif (closeDropdown) {\r\n\t\t\t\toverflowContainer.style.height = parseInt((comp.height.split(\"px\")[0])) + \"px\";\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\twindow.addEventListener('click', function () {\r\n\t\tif (closeDropdown) {\r\n\t\t\toverflowContainer.style.overflow = \"hidden\";\r\n\t\t\toverflowContainer.style.height = parseInt((comp.height.split(\"px\")[0])) + \"px\";\r\n\t\t\toverflowContainer.scrollTop = 0;\r\n\t\t\ttbody.style = \"visibility:hidden\";\r\n\t\t}\r\n\t\tcloseDropdown = true;\r\n\t});\r\n\tvar addRule = (function (style) {\r\n\t\tvar sheet = document.head.appendChild(style).sheet;\r\n\t\treturn function (selector, css) {\r\n\t\t\tvar propText = typeof css === \"string\" ? css : Object.keys(css).map(function (p) {\r\n\t\t\t\treturn p + \":\" + (p === \"content\" ? \"'\" + css[p] + \"'\" : css[p]);\r\n\t\t\t}).join(\";\");\r\n\t\t\tsheet.insertRule(selector + \"{\" + propText + \"}\", sheet.cssRules.length);\r\n\t\t};\r\n\t})(document.createElement(\"style\"));\r\n\taddRule(\".overflow_container::-webkit-scrollbar\", {\r\n\t\tdisplay: \"none\"\r\n\t});\r\n\r\n\treturn wrapper;\r\n}\r\n\r\nfunction getDropDownCurrentNode() {\r\n\tlet drop = findElements(document.body, false, \".dropdown_wrapper\");\r\n\tif (drop) {\r\n\t\treturn drop.children[0].children[0].children[0].children;\r\n\t} else {\r\n\t\treturn;\r\n\t}\r\n}\r\n\r\nfunction replaceDropdownContent(drop, nodeList) {\r\n\tlet thead = findElements(drop, false, \"thead\"),\r\n\t\ttr = findElements(drop, false, \"tr\");\r\n\r\n\tclearChildren(tr);\r\n\tclearChildren(thead);\r\n\r\n\r\n\tvar r = function (n) {\r\n\t\treturn function () {\r\n\t\t\tthead.replaceChild(n.cloneNode(true), thead.children[0]);\r\n\t\t\twindow.dropdownRef = getDropDownCurrentNode();\r\n\t\t\tdropdownUpdated();\r\n\t\t\tcloseDropdown = true;\r\n\t\t};\r\n\t};\r\n\tfor (let node of nodeList) {\r\n\t\tnode.classList += ' drop_itm';\r\n\t\tnode.addEventListener('click', r(node));\r\n\t\ttr.appendChild(node);\r\n\t}\r\n\tthead.appendChild(((tr.cloneNode()).appendChild(nodeList[0].cloneNode(true))));\r\n\twindow.dropdownRef = getDropDownCurrentNode();\r\n\tdropdownUpdated();\r\n\treturn drop;\r\n}\r\n\r\nfunction dropdownUpdated() {\r\n\treturn;\r\n}\r\n\r\nfunction dropdownLoaded() {\r\n\treturn;\r\n}\r\n"]}