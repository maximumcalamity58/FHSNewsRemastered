{"version":3,"sources":["js/clockv4.js"],"names":["countdown","endTime","now","Date","timePeriodMapping","startTime","periodName","initializeCountdown","document","getElementById","updatePeriod","tick","currentPeriodMapping","_step","_iterator","_createForOfIteratorHelper","s","n","done","mapping","value","_mapping$endTime$spli2","_slicedToArray","split","map","Number","endHours","endMinutes","potentialEndTime","setHours","err","e","f","textContent","concat","updateClock","timeRemaining","hours","Math","floor","minutes","seconds","console","log","requestAnimationFrame","window","addEventListener"],"mappings":"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","file":"clockv4.f5d253b3.js","sourceRoot":"..","sourcesContent":["/**\r\n * @fileoverview This file updates the current time as a simple countdown.\r\n * @version August 25, 2023\r\n * @authors Maxime Hendryx-Parkerp\r\n **/\r\n\r\nvar countdown;\r\nvar now = new Date();\r\nvar endTime;\r\n\r\nvar timePeriodMapping = [\r\n    { startTime: \"08:00\", endTime: \"09:53\", periodName: \"Period 1\" },\r\n    { startTime: \"09:53\", endTime: \"10:01\", periodName: \"Passing Period 1\" },\r\n    { startTime: \"10:01\", endTime: \"11:24\", periodName: \"Period 2\" },\r\n    { startTime: \"11:24\", endTime: \"11:32\", periodName: \"Passing Period 2\" },\r\n    { startTime: \"11:32\", endTime: \"13:24\", periodName: \"Period 3 & Lunch\" },\r\n    { startTime: \"13:24\", endTime: \"13:32\", periodName: \"Passing Period 3\" },\r\n    { startTime: \"13:32\", endTime: \"15:00\", periodName: \"Period 4\" }\r\n];\r\n\r\n/**\r\n * Initialize the countdown variables and start the tick function.\r\n */\r\nfunction initializeCountdown() {\r\n    countdown = document.getElementById(\"countdown__timer\");\r\n    now = new Date();\r\n    updatePeriod();\r\n    tick();\r\n}\r\n\r\nfunction updatePeriod() {\r\n    let currentPeriodMapping;\r\n    for (let mapping of timePeriodMapping) {\r\n        let [endHours, endMinutes] = mapping.endTime.split(\":\").map(Number);\r\n        let potentialEndTime = new Date(now);\r\n        potentialEndTime.setHours(endHours, endMinutes, 0, 0);\r\n\r\n        if (now < potentialEndTime) {\r\n            currentPeriodMapping = mapping;\r\n            endTime = potentialEndTime;\r\n            break;\r\n        }\r\n    }\r\n\r\n    if (currentPeriodMapping) {\r\n        document.getElementById(\"period__header\").textContent = currentPeriodMapping.periodName;\r\n        document.getElementById(\"period__time\").textContent = `${currentPeriodMapping.startTime} - ${currentPeriodMapping.endTime}`;\r\n    } else {\r\n        endTime = new Date(now);\r\n        document.getElementById(\"period__header\").textContent = \"Not School Hours\";\r\n        document.getElementById(\"period__time\").textContent = \"\";\r\n    }\r\n}\r\n\r\n\r\n\r\n/**\r\n * updates the current time and countdown timer\r\n */\r\nfunction updateClock() {\r\n    now = new Date();\r\n    let timeRemaining = (endTime - now) / 1000; // in seconds\r\n\r\n    // If the countdown has expired, update the period\r\n    if (timeRemaining <= 0) {\r\n        updatePeriod();\r\n        timeRemaining = (endTime - now) / 1000;\r\n    }\r\n\r\n    // Calculate hours, minutes, seconds\r\n    let hours = Math.floor(timeRemaining / 3600);\r\n    timeRemaining %= 3600;\r\n    let minutes = Math.floor(timeRemaining / 60);\r\n    let seconds = Math.floor(timeRemaining % 60);\r\n\r\n    // Display time\r\n    countdown.textContent = `${hours}:${minutes < 10 ? '0' : ''}${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;\r\n}\r\n\r\n\r\n// main loop\r\nfunction tick() {\r\n    console.log(\"a\")\r\n    updateClock();\r\n    requestAnimationFrame(tick);\r\n}\r\n\r\nwindow.addEventListener(\"DOMContentLoaded\", initializeCountdown);\r\n"]}